# 编程模型

## 基本概念

用户使用京东云函数服务支持的语言编写代码时，都采用一个通用的、包含以下核心概念的编写代码模式：

 
处理程序

Function从处理程序开始执行您的代码，入口函数格式为：文件名.函数名。例如，用户指定入口函数为：index.handler，则函数服务会在代码程序包中寻找index文件，并从handler处开始执行。

 
函数参数

函数参数是函数被调用时，传递给函数的内容，包括event和context。

 

event数据 

函数服务将event数据作为第一个参数传递给处理函数，是调用函数是的输入数据。

例如：由于文件的上传触发了函数执行，代码可从Event参数中获取该文件的所有信息，包括文件名、下载路径、文件类型、大小等。

不同触发器在触发函数时 传递的event数据结构有所不同，数据结构详情参见配置触发器和事件格式。



context对象

函数服务将context作为第二个参数传递给函数入口，通过此context对象，您的代码可以与函数服务交互。例如，通过context对象，您的代码可获取本次请求ID函数的基本信息等。



日志记录

函数服务会将函数执行日志写入日志服务。日志包括系统日志及函数日志，具体取决于您的函数代码。函数的运行日志结构如下所示：

  1970-1-1 00:00:00 UTC 

​    request_id: xxxxxxxxxxxx

​    function_name: xxxxxx

​    version_name: xxxxxx

​    content:  XXXXX

​    message: XXXXX   

 

（代码）

​                                                  



函数返回

您的函数需要将执行结果传递给function。根据调用方式的不同进行处理。

同步调用：通过同步方式触发的云函数，在函数执行期间，请求不会返回。在函数执行完成后，会将函数返回值封装为 JSON 格式以后返回给调用方。例如：API网关触发。

异步调用：通过异步方式触发的云函数，在触发事件由 SCF 平台接收后，触发请求就会返回。在函数执行完成后，函数的返回值会封装为 JSON 格式后存储在日志中。如果用户需要在异步触发后获取到函数返回值，可通过记录请求返回中的 requestId，并在函数执行完成后，通过 requestId 查询日志，获取到此次执行的函数返回值。例如：OSS触发。
